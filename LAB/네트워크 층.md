
# 네트워크 층

        여러개의 네트워크를 거쳐 데이터를 목적지까지 전송하는 역할

## 네트워크 층의 역활

        1. 패킷화
	2. 라우팅 과 포워딩
	3. 오류/흐름/혼잡 제어
	4. QoS 와 보안

### 패킷화
        
        발신지에서 상위 계층에서의 페이로드를 발신지/목적지 주소와 함께 캡슐화 한다.

        수신지에서는 받은 데이터를 역 캡슐화하여 페이로드를 얻는다.

### 라우팅과 포워딩

        라우팅 :  발신지에서 목적지까지 패킷의 경로를 지정하는 기능
	                라우팅 프로토콜을 통해 최적의 경로를 설정
        포워딩 :  수신 프레임/패킷의 주소를 확인해 다음 경로를 지정하는 기능


## 패킷 스위칭

### 데이터 그램 방식 : 비 연결 서비스
        
                모든 패킷을 독립적으로 처리
                패킷들의 경로가 각각 상이 , 패킷의 도달 순서가 달라질 수 있음.

### 가상 회선 방식 : 연결 지향 서비스

                모든 패킷이 연관성 있게 처리
                모든 패킷은 동일한 경로로 전송.
                가상 회선 식별자 vci를 이용하여 데이터 전송 전 가상 경로 연결
                연결-전송-해제의 3단계


## 네트워크층의 성능
	
		지연 :  전송, 전파, 처리, 큐잉 지연에 의하여 전체 지연이 결정.

		처리량: 초당 한 지점을 지나는 비트 수로 정의,  실질적 전송률

		패킷 손실률 : 버퍼의 오퍼플로우 발생시 패킷 폐기로 패킷 손실 발생


## IPv4 주소

	TCP/IP 계층에서 사용되는 32비트의 주소체계

	주소 공간 (address space) : 프로토콜이 사용 가능한 전체 주소의 수
	
	보통 8비트 씩 4개의 10 진수로 표현

	계층적 주소 : 앞 부분 n개의 비트로 네트워크를 정의하고
	뒤 32-n개의 비트로 노드를 정의.

### 클래스 기반 주소 지정
		
		![image](https://user-images.githubusercontent.com/43804441/51097760-e6f37d00-1809-11e9-935e-44800c60f8b4.png)
	
	ipv4는 소규모 및 대규모 네트워크를 지원하기 위하여 3가지 고정 접두사로 설계 되었다.
	 이 기술을 클래스 기반 주소지정 이라 한다.
	 
	 이러한 방식은 주소 고갈을 불러 일으키고 이 것을 보완하기 위하여 서브내팅과 수퍼네팅 기술 제안
	 	 서브네팅 : 클래스를 작은 단위로 나누는 기술
		 수퍼네팅 : 여러 클래스c를 더 큰 구조로 묶는 기술

	 클래스 기반 주소지정은 접두사가 고정이기 때문에 접두사와 접미사 구분을 위한 추가적인 정보가 불필요하다는 장점이 있다.
	 
### 클래스 없는 주소 지정

		![image](https://user-images.githubusercontent.com/43804441/51097979-85cca900-180b-11e9-902a-614988d222e8.png)

	 접두사가 가변적인 ipv4 주소
	 클래스기반 주소지정은 클래스 없는 주소 지정과 호환 가능
	 
	 슬래시 기법  (CIDR)로  주소 뒤 접두사의 길이를 적어 노드의 소속 네트워크 정의
	 
	 
### HDCP와 NAT

	HDCP : 
		ICANN에 의해 ISP 기관에 분배된
		주소 블록들의 IP들을 
		Dynamic Host Configuration Protocol (DHCP)
		통해 동적으로 사용자에게 분배한다.
			IP자원의 효율적 활용이 가능해진다.
	NAT :
		Network Address Translation (NAT)는
		사설 주소와 공인 주소 간의 매핑을 지원하는
		기술이다.
			이 기술 역시 IP자원의 효율적 활용이
			가능하다.

## IP 포워딩


### 목적지 주소에 기반을 둔 포워딩 Destination Address Forwarding

		: 비연결형 프로토콜로 사용될 때 사용되는 포워딩 기술
		포워딩 테이블을 필요로 한다.
		주소집단화, 긴 마스크 매칭, 계층적 라우팅 기법 사용

### 레이블 기반 포워딩 Forwarding based on Label
	
		연결 지향형 프로토콜로 사용 될 때 사용되는 포워딩 기술
		라우팅 테이블을 인덱스처럼 접근
		패킷의 레이블을 보고 포워딩
		MPLS 패킷으로 캡슐화하여 보내는 것이 일반 적.
